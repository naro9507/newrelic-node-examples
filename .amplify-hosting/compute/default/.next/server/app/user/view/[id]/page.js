(()=>{var e={};e.id=928,e.ids=[928],e.modules={1711:e=>{"use strict";e.exports=require("newrelic")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1731:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>f,originalPathname:()=>c,pages:()=>l,routeModule:()=>p,tree:()=>d}),t(6904),t(7764),t(5866);var n=t(3191),i=t(8716),o=t(7922),s=t.n(o),a=t(5231),u={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);t.d(r,u);let d=["",{children:["user",{children:["view",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6904)),"/Users/ishikawa-naohiro/ghq/github.com/naro9507/newrelic-node-examples/app/user/view/[id]/page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7764)),"/Users/ishikawa-naohiro/ghq/github.com/naro9507/newrelic-node-examples/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/ishikawa-naohiro/ghq/github.com/naro9507/newrelic-node-examples/app/user/view/[id]/page.js"],c="/user/view/[id]/page",f={require:t,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/user/view/[id]/page",pathname:"/user/view/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3627:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9404,23)),Promise.resolve().then(t.t.bind(t,4064,23))},7173:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},5303:()=>{},7764:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,runtime:()=>s});var n=t(9510),i=t(9720),o=t(7371);t(7262);let s="nodejs";async function a({children:e}){if("phase-production-build"===process.env.NEXT_PHASE)return n.jsx("html",{children:(0,n.jsxs)("body",{children:[(0,n.jsxs)("ul",{className:"navbar",children:[n.jsx("li",{children:n.jsx("a",{href:"/",children:"Home"})}),n.jsx("li",{children:n.jsx(o.default,{href:"/users",children:"Users"},"users")}),n.jsx("li",{children:n.jsx(o.default,{href:"/about",children:"About"},"about")})]}),e]})});let r=await Promise.resolve().then(t.t.bind(t,1711,23)),s=r.default||r;s?.agent?.collector?.isConnected?.()===!1&&await new Promise(e=>{s.agent.on("connected",e)});let a=s.getBrowserTimingHeader({hasToRemoveScriptWrapper:!0,allowTransactionlessInjection:!0}),u=s?.agent?.collector?.isConnected?.()??!1;return n.jsx("html",{children:(0,n.jsxs)("body",{children:[(0,n.jsxs)("ul",{className:"navbar",children:[n.jsx("li",{children:n.jsx("a",{href:"/",children:"Home"})}),n.jsx("li",{children:n.jsx(o.default,{href:"/users",children:"Users"},"users")}),n.jsx("li",{children:n.jsx(o.default,{href:"/about",children:"About"},"about")})]}),e,n.jsx(i.default,{id:"nr-browser-agent",strategy:"beforeInteractive",dangerouslySetInnerHTML:{__html:a}}),(0,n.jsxs)("p",{children:["newrelic connected: ",String(u)]})]})})}},6904:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(9510),i=t(9855),o=t(2106),s=t(1085);async function a({params:e}){i.Z.info("rendering user page");let r=(await (0,o.Z)()).userById(e.id);return void 0===r?(i.Z.error("cannot find user with id: %s",e.id),(0,s.notFound)()):n.jsx("pre",{children:JSON.stringify(r,null,2)})}},2106:(e,r,t)=>{"use strict";let n;t.d(r,{Z:()=>c});let i=require("node:fs/promises");var o=t.n(i);let s=require("node:url");var a=t.n(s);let u=require("node:path");var d=t.n(u);class l{#e;constructor(e){this.#e=[],this.#e=e}allUsers(){return this.#e}userById(e){return this.#e.find(r=>r.id==e)}updateUserById(e,r){for(let t=0;t<this.#e.length;t+=1)if(this.#e[t].id==e){this.#e[t]=r;break}}}async function c(){let e;if(void 0!==n)return n;{let r=a().fileURLToPath("file:///Users/ishikawa-naohiro/ghq/github.com/naro9507/newrelic-node-examples/lib/database.js");e=d().join(d().dirname(r),"original_data.jsonc")}let r=await o().readFile(e);return n=new l(JSON.parse(r.subarray(r.indexOf("\n")+1).toString("utf8")).users)}},9855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let n=require("pino"),i=t.n(n)()({level:"info"})},1085:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return n.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=t(3953),i=t(6399);class o extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new o}delete(){throw new o}set(){throw new o}sort(){throw new o}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},6399:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return i},notFound:function(){return n}});let t="NEXT_NOT_FOUND";function n(){let e=Error(t);throw e.digest=t,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},8586:(e,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return t}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(t||(t={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},3953:(e,r,t)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RedirectType:function(){return n},getRedirectError:function(){return u},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return f},isRedirectError:function(){return c},permanentRedirect:function(){return l},redirect:function(){return d}});let i=t(4580),o=t(2934),s=t(8586),a="NEXT_REDIRECT";function u(e,r,t){void 0===t&&(t=s.RedirectStatusCode.TemporaryRedirect);let n=Error(a);n.digest=a+";"+r+";"+e+";"+t+";";let o=i.requestAsyncStorage.getStore();return o&&(n.mutableCookies=o.mutableCookies),n}function d(e,r){void 0===r&&(r="replace");let t=o.actionAsyncStorage.getStore();throw u(e,r,(null==t?void 0:t.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function l(e,r){void 0===r&&(r="replace");let t=o.actionAsyncStorage.getStore();throw u(e,r,(null==t?void 0:t.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[r,t,n,i]=e.digest.split(";",4),o=Number(i);return r===a&&("replace"===t||"push"===t)&&"string"==typeof n&&!isNaN(o)&&o in s.RedirectStatusCode}function f(e){return c(e)?e.digest.split(";",3)[2]:null}function p(e){if(!c(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!c(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},7262:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[276,263],()=>t(1731));module.exports=n})();